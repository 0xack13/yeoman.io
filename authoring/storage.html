<!doctype html><html lang=en><head><meta charset=utf-8><title>Managing Configuration | Yeoman</title><meta name=viewport content="width=device-width"><link href="http://fonts.googleapis.com/css?family=Roboto+Slab:400,700|Roboto:400,700,700italic,400italic" rel=stylesheet type=text/css><link rel=stylesheet href=/assets/css/main.36d1.css></head><body class=documentation><header class=page-header><div class=container><div class=mobile-bar><h1 class=logo><a href="/"><img src=/assets/img/logo.5674.png alt=Yeoman></a></h1><button class="mobile-menu-toggle ir">open</button></div><nav class=main-menu><ul class=main-nav><li><a href=/learning>Using Yeoman</a><ul class=main-nav-sub><li><a href=/learning/index.html>Getting started</a></li><li><a href=/codelab.html>Tutorial (codelab)</a></li><li><a href=/learning/resources.html>Resources</a></li><li><a href=/learning/deployment.html>Deployment</a></li><li><a href=/learning/faq.html>FAQ</a></li><li><a href=/learning/support.html>Support</a></li></ul></li><li><a href=/generators>Finding Generators</a><ul class=main-nav-sub><li><a href=/generators/official.html>Official Generators</a></li><li><a href=/generators/community.html>Community Generators</a></li></ul></li><li><a href=/authoring class=active>Creating a generator</a></li><li><a href="http://yeoman.github.io/generator/">API</a></li><li><a href=/blog>Blog</a></li></ul></nav></div><!-- /.container --></header><!-- /.page-header --><div id=content><h2 class=page-title><div class=container>Managing Configuration</div></h2><div class="container has-sidebar clearfix"><nav class=context-nav><ul><li class=nav-item><a href=/authoring/index.html>Getting started</a></li><li class=nav-item><a href=/authoring/running-context.html>Running Context</a></li><li class=nav-item><a href=/authoring/user-interactions.html>User Interactions</a></li><li class=nav-item><a href=/authoring/composability.html>Composability</a></li><li class=nav-item><a href=/authoring/dependencies.html>Managing Dependencies</a></li><li class=nav-item><a href=/authoring/file-system.html>Interacting with the file system</a></li><li class=nav-item><a href=/authoring/gruntfile.html>Creating a Gruntfile</a></li><li class=nav-item><a href=/authoring/storage.html class=active>Storing user configs</a></li><li class=nav-item><a href=/authoring/testing.html>Unit testing</a></li></ul></nav><article class=main><section class=content-chunk><p>Storing user configuration options and sharing them between sub-generator is a common task. For example, it is common to share preferences like the language (does the user use CoffeeScript?), style options (indenting with spaces or tabs), etc.</p><p>These configuration can be stored in the <code>.yo-rc.json</code> file through the <a href=http://yeoman.github.io/generator/Storage.html>Yeoman Storage API</a>. This API is accessible through the <code>generator.config</code> object.</p><p>Here&#39;s some common methods you&#39;ll use.</p><h2>Methods</h2><h3><code>generator.config.save()</code></h3><p>This method will write the configuration to the <code>.yo-rc.json</code> file. If the file doesn&#39;t exist yet, the <code>save</code> method will create it.</p><p>The <code>.yo-rc.json</code> file is also determining the root of a project. Because of that, even if you&#39;re not using storage for anything, it is considered to be a best practice to always call <code>save</code> inside your <code>:app</code> generator.</p><p>Also note that the <code>save</code> method is called automatically each time you <code>set</code> a configuration option. So you usually won&#39;t need to call it explicitly.</p><h3><code>generator.config.set()</code></h3><p><code>set</code> either take a key and an associated value, or an object hash of multiple key/values.</p><p>Note that values must be JSON serializable (String, Number or non-recursive objects).</p><h3><code>generator.config.get()</code></h3><p><code>get</code> takes a <code>String</code> key as parameter and return the associated value.</p><h3><code>generator.config.getAll()</code></h3><p>Return an object of the full available configuration.</p><p>The returned object is passed by value, not reference. This mean you still need to use the <code>set</code> method to update the configuration store.</p><h3><code>generator.config.delete()</code></h3><p>Delete a key.</p><h3><code>generator.config.defaults()</code></h3><p>Accept a hash of options to use as defaults values. If a key/value pair already exist, the value will remains untouched. If a key is missing, it&#39;ll be added.</p><h2><code>.yo-rc.json</code> structure</h2><p>The <code>.yo-rc.json</code> file is a JSON file where configuration objects from multiples generators are stored. Each generator configuration is namespaced to ensure no naming conflicts will occur between generators.</p><p>This also mean each generator configuration is sandboxed and can only be shared between sub-generators. You cannot share configuration between different generator using the storage API. Use options and arguments during invocation to share data between different generators.</p><p>Here&#39;s what a <code>.yo-rc.json</code> file looks like internally:</p><div class=highlight><pre><code class="json language-json" data-lang=json><span class=p>{</span>
  <span class=nt>&quot;generator-backbone&quot;</span><span class=p>:</span> <span class=p>{</span>
    <span class=nt>&quot;requirejs&quot;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
    <span class=nt>&quot;coffee&quot;</span><span class=p>:</span> <span class=kc>true</span>
  <span class=p>},</span>
  <span class=nt>&quot;generator-gruntfile&quot;</span><span class=p>:</span> <span class=p>{</span>
    <span class=nt>&quot;compass&quot;</span><span class=p>:</span> <span class=kc>false</span>
  <span class=p>}</span>
<span class=p>}</span>
</code></pre></div><p>The structure is pretty comprehensive for your end user. This mean, you may wish to store advanced configurations inside this file and ask advanced users to edit the file directly when it doesn&#39;t make sense to use prompts for every options.</p><div class=contribute-doc>Found a typo? An unclear example? Help us improve our documentation by forking and sending your fixes and suggestions. <a href=https://github.com/yeoman/yeoman.io/tree/master/app/authoring/storage.md>Improve this Page!</a></div></section></article></div></div><footer class=page-footer><ul class="footer-links footer-links-social"><li><a href=https://plus.google.com/101063139999404044459/posts class=icon><img src=/assets/img/social-gplus.c8d9.png alt=Google+></a></li><li><a href=http://twitter.com/yeoman class=icon><img src=/assets/img/social-twitter.d284.png alt=Twitter></a></li><li><a href=http://github.com/yeoman/yeoman class=icon><img src=/assets/img/social-github.27c1.png alt=Github></a></li><li><a href=/blog/atom.xml class=icon><img src=/assets/img/social-feed.e04c.png alt=Feed></a></li></ul><ul class="footer-links footer-links-contribute"><li><a href=/contributing title=Contribute class=btn>Contribute</a></li><li><a href=https://github.com/yeoman/yeoman.io/blob/master/app/authoring/storage.md class="btn btn-improve" title="Edit this page on Github to help improve the site">Improve this page</a></li></ul></footer><!-- /.footer-links --><script src=//ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js></script><script src=/assets/js/scripts.f466.js></script><script>// $script.js - github.com/ded/script.js
  (function(a,b,c){typeof c["module"]!="undefined"&&c.module.exports?c.module.exports=b():typeof c["define"]!="undefined"&&c["define"]=="function"&&c.define.amd?define(a,b):c[a]=b()})("$script",function(){function p(a,b){for(var c=0,d=a.length;c<d;++c)if(!b(a[c]))return j;return 1}function q(a,b){p(a,function(a){return!b(a)})}function r(a,b,i){function o(a){return a.call?a():d[a]}function t(){if(!--n){d[m]=1,l&&l();for(var a in f)p(a.split("|"),o)&&!q(f[a],o)&&(f[a]=[])}}a=a[k]?a:[a];var j=b&&b.call,l=j?b:i,m=j?a.join(""):b,n=a.length;return setTimeout(function(){q(a,function(a){if(h[a])return m&&(e[m]=1),h[a]==2&&t();h[a]=1,m&&(e[m]=1),s(!c.test(a)&&g?g+a+".js":a,t)})},0),r}function s(c,d){var e=a.createElement("script"),f=j;e.onload=e.onerror=e[o]=function(){if(e[m]&&!/^c|loade/.test(e[m])||f)return;e.onload=e[o]=null,f=1,h[c]=2,d()},e.async=1,e.src=c,b.insertBefore(e,b.firstChild)}var a=document,b=a.getElementsByTagName("head")[0],c=/^https?:\/\//,d={},e={},f={},g,h={},i="string",j=!1,k="push",l="DOMContentLoaded",m="readyState",n="addEventListener",o="onreadystatechange";return!a[m]&&a[n]&&(a[n](l,function t(){a.removeEventListener(l,t,j),a[m]="complete"},j),a[m]="loading"),r.get=s,r.order=function(a,b,c){(function d(e){e=a.shift(),a.length?r(e,d):r(e,b,c)})()},r.path=function(a){g=a},r.ready=function(a,b,c){a=a[k]?a:[a];var e=[];return!q(a,function(a){d[a]||e[k](a)})&&p(a,function(a){return d[a]})?b():!function(a){f[a]=f[a]||[],f[a][k](b),c&&c(e)}(a.join("|")),r},r},this)
  var _gaq=[
    ['_setAccount','UA-32956520-1'],
    ['_setDomainName', '.yeoman.io'],
    ['_trackPageview'],['_trackPageLoadTime']
  ];
  $script('http://www.google-analytics.com/ga.js');
  $script('https://apis.google.com/js/plusone.js');
  $script("//platform.twitter.com/widgets.js");</script></body></html>