<!doctype html><html lang=en><head><meta charset=utf-8><title>Interacting With The User | Yeoman</title><meta name=viewport content="width=device-width"><link href="http://fonts.googleapis.com/css?family=Roboto+Slab:400,700|Roboto:400,700,700italic,400italic" rel=stylesheet type=text/css><link rel=stylesheet href=/assets/css/main.9dfc.css></head><body class=documentation><header class=page-header><div class=container><div class=mobile-bar><h1 class=logo><a href="/"><img src=/assets/img/logo.5674.png alt=Yeoman></a></h1><button class="mobile-menu-toggle ir">open</button></div><nav class=main-menu><ul class=main-nav><li><a href=/learning>Using Yeoman</a><ul class=main-nav-sub><li><a href=/learning/index.html>Getting started</a></li><li><a href=/codelab.html>Tutorial (codelab)</a></li><li><a href=/learning/resources.html>Resources</a></li><li><a href=/learning/deployment.html>Deployment</a></li><li><a href=/learning/faq.html>FAQ</a></li><li><a href=/learning/support.html>Support</a></li></ul></li><li><a href=/generators>Finding Generators</a><ul class=main-nav-sub><li><a href=/generators/official.html>Official Generators</a></li><li><a href=/generators/community.html>Community Generators</a></li></ul></li><li><a href=/authoring class=active>Creating a generator</a></li><li><a href="http://yeoman.github.io/generator/">API</a></li><li><a href=/blog>Blog</a></li></ul></nav></div><!-- /.container --></header><!-- /.page-header --><div id=content><h2 class=page-title><div class=container>Interacting With The User</div></h2><div class="container has-sidebar clearfix"><nav class=context-nav><ul><li class=nav-item><a href=/authoring/index.html>Getting started</a></li><li class=nav-item><a href=/authoring/running-context.html>Running Context</a></li><li class=nav-item><a href=/authoring/user-interactions.html class=active>User Interactions</a></li><li class=nav-item><a href=/authoring/composability.html>Composability</a></li><li class=nav-item><a href=/authoring/dependencies.html>Managing Dependencies</a></li><li class=nav-item><a href=/authoring/file-system.html>Interacting with the file system</a></li><li class=nav-item><a href=/authoring/gruntfile.html>Creating a Gruntfile</a></li><li class=nav-item><a href=/authoring/storage.html>Storing user configs</a></li><li class=nav-item><a href=/authoring/testing.html>Unit testing</a></li></ul></nav><article class=main><section class=content-chunk><p>Your generator will interact a lot with the end user. By default Yeoman runs on a terminal, but it also supports custom user interfaces different tools can provide. For example, nothing prevents a Yeoman generator from being run inside a graphical tool like an editor or a standalone app.</p><p>To allow this flexibility, Yeoman provides a set of user interface element abstractions. It is your responsibility as an author to only uses those abstractions when interacting with your end user. Using other ways will probably prevent your generator from running correctly in different Yeoman tools.</p><p>For example, it is important to never use <code>console.log()</code> or <code>process.stdout.write()</code> to output content. Using them would hide the output from user not using a terminal. Instead, always rely on the UI generic <code>generator.log()</code> method.</p><h2>User interactions</h2><h3>Prompts</h3><p>Prompts are the main way a generator interact with a user. The prompt module is provided by <a href=https://github.com/SBoudrias/Inquirer.js>Inquirer.js</a> and you should refer to the <a href=https://github.com/SBoudrias/Inquirer.js>module API</a> for a list of available prompt options.</p><p>You&#39;ll call the prompt method this way:</p><div class=highlight><pre><code class="js language-js" data-lang=js><span class=nx>yeoman</span><span class=p>.</span><span class=nx>generators</span><span class=p>.</span><span class=nx>Base</span><span class=p>.</span><span class=nx>extend</span><span class=p>({</span>
  <span class=nx>promptTask</span><span class=o>:</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
    <span class=kd>var</span> <span class=nx>done</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>async</span><span class=p>();</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>prompt</span><span class=p>({</span>
      <span class=nx>type</span>    <span class=o>:</span> <span class=s2>&quot;input&quot;</span><span class=p>,</span>
      <span class=nx>name</span>    <span class=o>:</span> <span class=s2>&quot;name&quot;</span><span class=p>,</span>
      <span class=nx>message</span> <span class=o>:</span> <span class=s2>&quot;Your project name&quot;</span><span class=p>,</span>
      <span class=k>default</span> <span class=o>:</span> <span class=k>this</span><span class=p>.</span><span class=nx>appname</span> <span class=c1>// Default to current folder name</span>
    <span class=p>},</span> <span class=kd>function</span> <span class=p>(</span><span class=nx>answers</span><span class=p>)</span> <span class=p>{</span>
      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>answers</span><span class=p>.</span><span class=nx>name</span><span class=p>);</span>
      <span class=nx>done</span><span class=p>();</span>
    <span class=p>});</span>
  <span class=p>}</span>
<span class=p>})</span>
</code></pre></div><p>Note here that we use the <code>prompt</code> queue to ask feedback from the user.</p><h3>Arguments</h3><p>Arguments are passed directly from the command line:</p><div class=highlight><pre><code class="text language-text" data-lang=text>yo webapp my-project
</code></pre></div><p>In this example, <code>my-project</code> would be the first argument.</p><p>To notify the system we expect an argument, we use the <code>generator.argument()</code> method. This method accept a <code>name</code> (String) and an optional options hash.</p><p>The <code>name</code> value will be used to retrieve the argument at the matching key <code>generator.arguments[name]</code>.</p><p>The <code>option</code> hash accept multiples key/values:</p><ul><li><code>desc</code> Description for the argument</li><li><code>required</code> Boolean whether it is required</li><li><code>optional</code> Boolean whether it is optional</li><li><code>type</code> String, Number, Array, or Object</li><li><code>defaults</code> Default value for this argument</li><li><code>banner</code> String to show on usage notes (this one is provided by default)</li></ul><p>This method must be call inside the <code>constructor</code> method otherwise Yeoman won&#39;t be able to output relevant help information when a user call your generator with the help option. e.g.: <code>yo webapp --help</code></p><h3>Options</h3><p>Options look a lot like arguments, but they are written as command line <em>flags</em>.</p><div class=highlight><pre><code class="text language-text" data-lang=text>yo webapp --coffee
</code></pre></div><p>To notify the system we expect an option, we use the <code>generator.option()</code> method. This method accept a <code>name</code> (String) and an optional options hash.</p><p>The <code>name</code> value will be used to retrieve the argument at the matching key <code>generator.options[name]</code>.</p><p>The <code>options</code> hash (the second argument) accept multiples key/values:</p><ul><li><code>desc</code> Description for the option</li><li><code>type</code> Either Boolean, String or Number</li><li><code>defaults</code> Default value</li><li><code>banner</code> String to show on usage notes</li><li><code>hide</code> Boolean whether to hide from help</li></ul><h2>Outputting informations</h2><p>Outputting information is handled by the <code>generator.log</code> module.</p><p>The main method you&#39;ll use is simply <code>generator.log(&#39;Hey! Welcome to my awesome generator&#39;)</code>. It takes a string and output it to the user; basically it mimic <code>console.log()</code> when used inside a terminal.</p><p>There&#39;s also some other helper methods you can find in the <a href=http://yeoman.github.io/generator/TerminalAdapter.html>API documentation</a>.</p><div class=contribute-doc>Found a typo? An unclear example? Help us improve our documentation by forking and sending your fixes and suggestions. <a href=https://github.com/yeoman/yeoman.io/tree/master/app/authoring/user-interactions.md>Improve this Page!</a></div></section></article></div></div><footer class=page-footer><ul class="footer-links footer-links-social"><li><a href=https://plus.google.com/101063139999404044459/posts class=icon><img src=/assets/img/social-gplus.c8d9.png alt=Google+></a></li><li><a href=http://twitter.com/yeoman class=icon><img src=/assets/img/social-twitter.d284.png alt=Twitter></a></li><li><a href=http://github.com/yeoman/yeoman class=icon><img src=/assets/img/social-github.27c1.png alt=Github></a></li><li><a href=/blog/atom.xml class=icon><img src=/assets/img/social-feed.e04c.png alt=Feed></a></li></ul><ul class="footer-links footer-links-contribute"><li><a href=/contributing title=Contribute class=btn>Contribute</a></li><li><a href=https://github.com/yeoman/yeoman.io/blob/master/app/authoring/user-interactions.md class="btn btn-improve" title="Edit this page on Github to help improve the site">Improve this page</a></li></ul></footer><!-- /.footer-links --><script src=//ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js></script><script src=/assets/js/scripts.5506.js></script><script>// $script.js - github.com/ded/script.js
  (function(a,b,c){typeof c["module"]!="undefined"&&c.module.exports?c.module.exports=b():typeof c["define"]!="undefined"&&c["define"]=="function"&&c.define.amd?define(a,b):c[a]=b()})("$script",function(){function p(a,b){for(var c=0,d=a.length;c<d;++c)if(!b(a[c]))return j;return 1}function q(a,b){p(a,function(a){return!b(a)})}function r(a,b,i){function o(a){return a.call?a():d[a]}function t(){if(!--n){d[m]=1,l&&l();for(var a in f)p(a.split("|"),o)&&!q(f[a],o)&&(f[a]=[])}}a=a[k]?a:[a];var j=b&&b.call,l=j?b:i,m=j?a.join(""):b,n=a.length;return setTimeout(function(){q(a,function(a){if(h[a])return m&&(e[m]=1),h[a]==2&&t();h[a]=1,m&&(e[m]=1),s(!c.test(a)&&g?g+a+".js":a,t)})},0),r}function s(c,d){var e=a.createElement("script"),f=j;e.onload=e.onerror=e[o]=function(){if(e[m]&&!/^c|loade/.test(e[m])||f)return;e.onload=e[o]=null,f=1,h[c]=2,d()},e.async=1,e.src=c,b.insertBefore(e,b.firstChild)}var a=document,b=a.getElementsByTagName("head")[0],c=/^https?:\/\//,d={},e={},f={},g,h={},i="string",j=!1,k="push",l="DOMContentLoaded",m="readyState",n="addEventListener",o="onreadystatechange";return!a[m]&&a[n]&&(a[n](l,function t(){a.removeEventListener(l,t,j),a[m]="complete"},j),a[m]="loading"),r.get=s,r.order=function(a,b,c){(function d(e){e=a.shift(),a.length?r(e,d):r(e,b,c)})()},r.path=function(a){g=a},r.ready=function(a,b,c){a=a[k]?a:[a];var e=[];return!q(a,function(a){d[a]||e[k](a)})&&p(a,function(a){return d[a]})?b():!function(a){f[a]=f[a]||[],f[a][k](b),c&&c(e)}(a.join("|")),r},r},this)
  var _gaq=[
    ['_setAccount','UA-32956520-1'],
    ['_setDomainName', '.yeoman.io'],
    ['_trackPageview'],['_trackPageLoadTime']
  ];
  $script('http://www.google-analytics.com/ga.js');
  $script('https://apis.google.com/js/plusone.js');
  $script("//platform.twitter.com/widgets.js");</script></body></html>